{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useReducer}from'react';import firebase from'firebase';var AuthContext=React.createContext();var Reducer=function Reducer(authState,action){switch(action.type){case'authenticated':return _objectSpread(_objectSpread({},authState),{},{error:'',isSignedIn:true});case'set_error':return _objectSpread(_objectSpread({},authState),{},{error:action.payload});case'set_auth_state':return _objectSpread(_objectSpread({},authState),{},{isSignedIn:action.payload});default:return authState;}};var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useReducer=useReducer(Reducer,{error:'',isSignedIn:null}),_useReducer2=_slicedToArray(_useReducer,2),authState=_useReducer2[0],dispatch=_useReducer2[1];var signIn=function signIn(email,password){return _regeneratorRuntime.async(function signIn$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email,password));case 3:dispatch({type:'authenticated',payload:{email:email,password:password}});_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);dispatch({type:'set_error',payload:'(Something went wrong with sign in)'});case 9:case\"end\":return _context.stop();}}},null,null,[[0,6]],Promise);};var signUp=function signUp(email,password){return _regeneratorRuntime.async(function signUp$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email,password));case 3:dispatch({type:'authenticated',payload:{email:email,password:password}});_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);dispatch({type:'set_error',payload:'(Something went wrong with sign up)'});case 9:case\"end\":return _context2.stop();}}},null,null,[[0,6]],Promise);};var signOut=function signOut(){return _regeneratorRuntime.async(function signOut$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return _regeneratorRuntime.awrap(firebase.auth().signOut());case 3:dispatch({type:'set_auth_state',payload:false});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:'set_error',payload:'(Something went wrong with sign out)'});case 9:case\"end\":return _context3.stop();}}},null,null,[[0,6]],Promise);};var setAuthState=function setAuthState(boolean){dispatch({type:'set_auth_state',payload:boolean});};var resetError=function resetError(){dispatch({type:'set_error',payload:''});};return React.createElement(AuthContext.Provider,{value:{authState:authState,actions:{signIn:signIn,signUp:signUp,signOut:signOut,setAuthState:setAuthState,resetError:resetError}}},children);};export{AuthContext,AuthProvider};","map":{"version":3,"sources":["C:/Users/bosgi/Documents/Mobile Projects/cryptos/src/context/AuthContext.js"],"names":["React","useReducer","firebase","AuthContext","createContext","Reducer","authState","action","type","error","isSignedIn","payload","AuthProvider","children","dispatch","signIn","email","password","auth","signInWithEmailAndPassword","signUp","createUserWithEmailAndPassword","signOut","setAuthState","boolean","resetError","actions"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\r\nimport firebase from 'firebase';\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nconst Reducer = (authState, action) => {\r\n  switch (action.type) {\r\n\r\n    case 'authenticated':\r\n        return { ...authState, error: '', isSignedIn: true };\r\n\r\n    case 'set_error' :\r\n      return { ...authState, error: action.payload }\r\n\r\n    case 'set_auth_state':\r\n      return { ...authState, isSignedIn: action.payload }\r\n\r\n    default:\r\n      return authState;\r\n  }\r\n}\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const [authState, dispatch] = useReducer(Reducer, { error: '', isSignedIn: null})\r\n\r\n  const signIn = async ( email, password ) => {\r\n    try {\r\n      await firebase.auth().signInWithEmailAndPassword(email, password);\r\n      dispatch({ type: 'authenticated', payload: { email, password } })\r\n    } catch (err) {\r\n      dispatch({ type: 'set_error', payload: '(Something went wrong with sign in)' })\r\n    }\r\n  }\r\n\r\n  const signUp = async ( email, password ) => {\r\n    try {\r\n      await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n      dispatch({ type: 'authenticated', payload: { email, password } })\r\n    } catch (err) {\r\n      dispatch({ type: 'set_error', payload: '(Something went wrong with sign up)' })\r\n    }\r\n  }\r\n\r\n  const signOut = async () => {\r\n    try {\r\n      await firebase.auth().signOut();\r\n      dispatch({ type: 'set_auth_state', payload: false })\r\n    } catch (err) {\r\n      dispatch({ type: 'set_error', payload: '(Something went wrong with sign out)' })\r\n    }\r\n  }\r\n\r\n  const setAuthState = (boolean) => {\r\n    dispatch({ type: 'set_auth_state', payload: boolean })\r\n  }\r\n\r\n  const resetError = () => {\r\n    dispatch({ type: 'set_error', payload: '' })\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ authState, actions: { signIn, signUp, signOut, setAuthState, resetError } }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport { AuthContext, AuthProvider };"]},"metadata":{},"sourceType":"module"}